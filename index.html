<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Video Generator Pro - Haider Ali Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .auth-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 450px;
            width: 100%;
            animation: slideIn 0.5s ease-out;
        }

        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
            max-width: 1400px;
            width: 100%;
            animation: slideIn 0.5s ease-out;
            display: none;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            color: #667eea;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .logo p {
            color: #666;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .error {
            color: #e74c3c;
            font-size: 13px;
            margin-top: 10px;
            display: none;
            text-align: center;
            padding: 10px;
            background: #ffe6e6;
            border-radius: 8px;
        }

        .success {
            color: #27ae60;
            font-size: 13px;
            margin-top: 10px;
            display: none;
            text-align: center;
            padding: 10px;
            background: #d4edda;
            border-radius: 8px;
        }

        .auth-toggle {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .auth-toggle a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
        }

        .auth-toggle a:hover {
            text-decoration: underline;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }

        .admin-badge {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .user-badge {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .admin-panel {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 25px;
            border-radius: 15px;
            color: white;
            margin-bottom: 30px;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .stat-card h3 {
            font-size: 32px;
            margin-bottom: 5px;
        }

        .stat-card p {
            font-size: 14px;
            opacity: 0.9;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .control-btn {
            padding: 15px;
            background: rgba(255,255,255,0.3);
            border: 2px solid rgba(255,255,255,0.5);
            border-radius: 10px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: rgba(255,255,255,0.4);
            border-color: white;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 24px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            flex: 1;
            min-width: 150px;
            text-align: center;
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .tab:hover:not(.active) {
            background: #e9ecef;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .video-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .video-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .video-placeholder {
            width: 100%;
            height: 180px;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .video-placeholder canvas {
            width: 100%;
            height: 100%;
        }

        .video-info {
            padding: 15px;
        }

        .video-info h3 {
            font-size: 16px;
            margin-bottom: 8px;
            color: #333;
        }

        .video-info p {
            font-size: 13px;
            color: #666;
            margin-bottom: 12px;
        }

        .video-actions {
            display: flex;
            gap: 8px;
        }

        .btn-small {
            flex: 1;
            padding: 8px 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-small:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
        }

        .generating {
            text-align: center;
            padding: 40px;
            color: #667eea;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .logout-btn {
            padding: 10px 20px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
        }

        .script-form {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
        }

        .script-output {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            min-height: 300px;
            max-height: 600px;
            overflow-y: auto;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.6;
            display: none;
        }

        .script-output.active {
            display: block;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .hidden {
            display: none !important;
        }

        .users-table {
            width: 100%;
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .users-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .users-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }

        .users-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #e0e0e0;
        }

        .users-table tr:hover {
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="auth-container" id="loginScreen">
        <div class="logo">
            <h1>üé¨ AI Video Generator</h1>
            <p>Powered by Haider Ali Technology</p>
        </div>
        <form id="loginForm" onsubmit="handleLogin(event)">
            <div class="form-group">
                <label for="loginUsername">Username</label>
                <input type="text" id="loginUsername" placeholder="Enter your username" required>
            </div>
            <div class="form-group">
                <label for="loginPassword">Password</label>
                <input type="password" id="loginPassword" placeholder="Enter your password" required>
            </div>
            <button type="submit" class="btn">Login</button>
            <p class="error" id="loginError">Invalid credentials. Please try again.</p>
        </form>
        <div class="auth-toggle">
            <p>Don't have an account? <a onclick="showSignup()">Sign Up</a></p>
        </div>
    </div>

    <!-- Signup Screen -->
    <div class="auth-container hidden" id="signupScreen">
        <div class="logo">
            <h1>üé¨ AI Video Generator</h1>
            <p>Create Your Account</p>
        </div>
        <form id="signupForm" onsubmit="handleSignup(event)">
            <div class="form-group">
                <label for="signupName">Full Name</label>
                <input type="text" id="signupName" placeholder="Enter your full name" required>
            </div>
            <div class="form-group">
                <label for="signupUsername">Username</label>
                <input type="text" id="signupUsername" placeholder="Choose a username" required>
            </div>
            <div class="form-group">
                <label for="signupPassword">Password</label>
                <input type="password" id="signupPassword" placeholder="Choose a password" required minlength="6">
            </div>
            <div class="form-group">
                <label for="signupConfirmPassword">Confirm Password</label>
                <input type="password" id="signupConfirmPassword" placeholder="Confirm your password" required>
            </div>
            <button type="submit" class="btn">Sign Up</button>
            <p class="error" id="signupError">Error message here</p>
            <p class="success" id="signupSuccess">Account created successfully! Please login.</p>
        </form>
        <div class="auth-toggle">
            <p>Already have an account? <a onclick="showLogin()">Login</a></p>
        </div>
    </div>

    <!-- Main Application -->
    <div class="main-container" id="mainApp">
        <div class="header">
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">HA</div>
                <div>
                    <h2 id="userName" style="font-size: 20px; color: #333;">User</h2>
                    <span id="userRole" class="user-badge">User</span>
                </div>
            </div>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="hidden">
            <div class="admin-panel">
                <h2 style="margin-bottom: 20px;">üõ°Ô∏è Admin Control Center - Real Dashboard</h2>
                <div class="admin-stats">
                    <div class="stat-card">
                        <h3 id="totalUsers">0</h3>
                        <p>Total Registered Users</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="totalVideos">0</h3>
                        <p>Videos Generated</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="totalScripts">0</h3>
                        <p>Scripts Created</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="systemStatus">Online</h3>
                        <p>System Status</p>
                    </div>
                </div>
                <div class="admin-controls">
                    <button class="control-btn" onclick="viewAllUsers()">üë• View All Users</button>
                    <button class="control-btn" onclick="showAnalytics()">üìä Analytics</button>
                    <button class="control-btn" onclick="clearAllData()">üóëÔ∏è Clear All Data</button>
                    <button class="control-btn" onclick="exportData()">üì• Export Data</button>
                    <button class="control-btn" onclick="showSystemInfo()">‚öôÔ∏è System Info</button>
                    <button class="control-btn" onclick="refreshStats()">üîÑ Refresh Stats</button>
                </div>
                <div id="usersTableContainer"></div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" onclick="switchTab('veo', event)">üé• VEO 3.1 Generator</div>
            <div class="tab" onclick="switchTab('bulk', event)">üì¶ Bulk Generator</div>
            <div class="tab" onclick="switchTab('script', event)">üìù Script Creator</div>
        </div>

        <!-- VEO 3.1 Tab -->
        <div class="tab-content active" id="veoTab">
            <form id="veoForm" onsubmit="handleVeoGeneration(event)">
                <div class="form-group">
                    <label for="veoPrompt">Video Prompt</label>
                    <textarea id="veoPrompt" placeholder="Describe your video in detail..." required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="veoDuration">Duration (seconds)</label>
                        <select id="veoDuration">
                            <option value="5">5 seconds</option>
                            <option value="10">10 seconds</option>
                            <option value="15">15 seconds</option>
                            <option value="30">30 seconds</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="veoQuality">Quality</label>
                        <select id="veoQuality">
                            <option value="720p">720p HD</option>
                            <option value="1080p">1080p Full HD</option>
                            <option value="4k">4K Ultra HD</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">Generate Video</button>
            </form>
            <div id="veoVideos" class="video-grid"></div>
        </div>

        <!-- Bulk Generator Tab -->
        <div class="tab-content" id="bulkTab">
            <form id="bulkForm" onsubmit="handleBulkGeneration(event)">
                <div class="form-group">
                    <label for="bulkPrompts">Video Prompts (one per line, max 100)</label>
                    <textarea id="bulkPrompts" placeholder="Enter video prompts, one per line..." style="min-height: 200px;" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="bulkDuration">Duration (seconds)</label>
                        <select id="bulkDuration">
                            <option value="5">5 seconds</option>
                            <option value="10">10 seconds</option>
                            <option value="15">15 seconds</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bulkQuality">Quality</label>
                        <select id="bulkQuality">
                            <option value="720p">720p HD</option>
                            <option value="1080p">1080p Full HD</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">Generate All Videos</button>
            </form>
            <div id="bulkVideos" class="video-grid"></div>
        </div>

        <!-- Script Creator Tab -->
        <div class="tab-content" id="scriptTab">
            <div class="script-form">
                <form id="scriptForm" onsubmit="handleScriptGeneration(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="scriptTitle">Script Title/Topic</label>
                            <input type="text" id="scriptTitle" placeholder="e.g., Adventure Story, Love Story" required>
                        </div>
                        <div class="form-group">
                            <label for="scriptWordCount">Word Count</label>
                            <input type="number" id="scriptWordCount" placeholder="e.g., 500, 1000" min="100" max="5000" value="1000" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="scriptGenre">Genre/Style</label>
                        <select id="scriptGenre">
                            <option value="dramatic">Dramatic</option>
                            <option value="comedy">Comedy</option>
                            <option value="thriller">Thriller</option>
                            <option value="romance">Romance</option>
                            <option value="action">Action</option>
                            <option value="documentary">Documentary</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="scriptDetails">Additional Details (Optional)</label>
                        <textarea id="scriptDetails" placeholder="Add any specific requirements, characters, settings, etc."></textarea>
                    </div>
                    <button type="submit" class="btn">ü§ñ Generate Complete Script with GPT-5</button>
                </form>
                <div class="script-output" id="scriptOutput"></div>
            </div>
        </div>
    </div>

    <script>
        // Initialize users database
        function initializeUsers() {
            let users = localStorage.getItem('videoGenUsers');
            if (!users) {
                const defaultUsers = {
                    'HaiderAli': {
                        password: 'HaiderAli369',
                        role: 'admin',
                        name: 'Haider Ali',
                        joinDate: new Date().toLocaleDateString()
                    }
                };
                localStorage.setItem('videoGenUsers', JSON.stringify(defaultUsers));
                return defaultUsers;
            }
            return JSON.parse(users);
        }

        // Initialize stats
        function initializeStats() {
            if (!localStorage.getItem('platformStats')) {
                localStorage.setItem('platformStats', JSON.stringify({
                    totalVideos: 0,
                    totalScripts: 0
                }));
            }
        }

        let currentUser = null;
        let veoVideos = [];
        let bulkVideos = [];

        // Initialize on page load
        initializeUsers();
        initializeStats();

        // Show/Hide screens
        function showLogin() {
            document.getElementById('signupScreen').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('loginError').style.display = 'none';
        }

        function showSignup() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('signupScreen').classList.remove('hidden');
            document.getElementById('signupError').style.display = 'none';
            document.getElementById('signupSuccess').style.display = 'none';
        }

        // Handle Login
        function handleLogin(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const username = document.getElementById('loginUsername').value.trim();
            const password = document.getElementById('loginPassword').value;
            
            const users = JSON.parse(localStorage.getItem('videoGenUsers'));
            
            if (users[username] && users[username].password === password) {
                currentUser = {
                    username: username,
                    name: users[username].name,
                    role: users[username].role
                };
                
                // Hide login screen
                document.getElementById('loginScreen').classList.add('hidden');
                
                // Show main app
                document.getElementById('mainApp').style.display = 'block';
                
                // Set user info
                document.getElementById('userName').textContent = currentUser.name;
                
                // Set avatar
                const initials = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
                document.getElementById('userAvatar').textContent = initials;
                
                // Set role
                const roleElement = document.getElementById('userRole');
                if (currentUser.role === 'admin') {
                    roleElement.textContent = 'Administrator';
                    roleElement.className = 'admin-badge';
                    document.getElementById('adminPanel').classList.remove('hidden');
                    updateAdminStats();
                } else {
                    roleElement.textContent = 'User';
                    roleElement.className = 'user-badge';
                    document.getElementById('adminPanel').classList.add('hidden');
                }
                
                document.getElementById('loginError').style.display = 'none';
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
            
            return false;
        }

        // Handle Signup
        function handleSignup(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const name = document.getElementById('signupName').value.trim();
            const username = document.getElementById('signupUsername').value.trim();
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            
            const errorElement = document.getElementById('signupError');
            const successElement = document.getElementById('signupSuccess');
            
            // Validation
            if (password !== confirmPassword) {
                errorElement.textContent = 'Passwords do not match!';
                errorElement.style.display = 'block';
                successElement.style.display = 'none';
                return false;
            }
            
            if (password.length < 6) {
                errorElement.textContent = 'Password must be at least 6 characters!';
                errorElement.style.display = 'block';
                successElement.style.display = 'none';
                return false;
            }
            
            const users = JSON.parse(localStorage.getItem('videoGenUsers'));
            
            if (users[username]) {
                errorElement.textContent = 'Username already exists!';
                errorElement.style.display = 'block';
                successElement.style.display = 'none';
                return false;
            }
            
            // Create new user
            users[username] = {
                password: password,
                role: 'user',
                name: name,
                joinDate: new Date().toLocaleDateString()
            };
            
            // Save to localStorage
            localStorage.setItem('videoGenUsers', JSON.stringify(users));
            
            // Show success
            errorElement.style.display = 'none';
            successElement.style.display = 'block';
            
            // Clear form
            document.getElementById('signupForm').reset();
            
            // Redirect to login
            setTimeout(() => {
                showLogin();
            }, 2000);
            
            return false;
        }

        function updateAdminStats() {
            const users = JSON.parse(localStorage.getItem('videoGenUsers'));
            const stats = JSON.parse(localStorage.getItem('platformStats'));
            
            document.getElementById('totalUsers').textContent = Object.keys(users).length;
            document.getElementById('totalVideos').textContent = stats.totalVideos;
            document.getElementById('totalScripts').textContent = stats.totalScripts;
        }

        function refreshStats() {
            updateAdminStats();
            alert('Stats refreshed successfully!');
        }

        function viewAllUsers() {
            const users = JSON.parse(localStorage.getItem('videoGenUsers'));
            const container = document.getElementById('usersTableContainer');
            
            let html = '<div class="users-table"><h3 style="margin-bottom: 15px; color: #333;">Registered Users</h3><table>';
            html += '<tr><th>Username</th><th>Name</th><th>Role</th><th>Join Date</th></tr>';
            
            Object.keys(users).forEach(username => {
                const user = users[username];
                html += `<tr>
                    <td><strong>${username}</strong></td>
                    <td>${user.name}</td>
                    <td><span style="background: ${user.role === 'admin' ? '#f093fb' : '#4facfe'}; color: white; padding: 3px 10px; border-radius: 15px; font-size: 11px;">${user.role.toUpperCase()}</span></td>
                    <td>${user.joinDate || 'N/A'}</td>
                </tr>`;
            });
            
            html += '</table></div>';
            container.innerHTML = html;
        }

        function showAnalytics() {
            const stats = JSON.parse(localStorage.getItem('platformStats'));
            alert(`üìä Platform Analytics:\n\nTotal Videos Generated: ${stats.totalVideos}\nTotal Scripts Created: ${stats.totalScripts}\n\nKeep up the great work!`);
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear all user data? This will keep admin account but remove all other users and stats.')) {
                const defaultUsers = {
                    'HaiderAli': {
                        password: 'HaiderAli369',
                        role: 'admin',
                        name: 'Haider Ali',
                        joinDate: new Date().toLocaleDateString()
                    }
                };
                localStorage.setItem('videoGenUsers', JSON.stringify(defaultUsers));
                localStorage.setItem('platformStats', JSON.stringify({
                    totalVideos: 0,
                    totalScripts: 0
                }));
                updateAdminStats();
                document.getElementById('usersTableContainer').innerHTML = '';
                alert('All data cleared successfully!');
            }
        }

        function exportData() {
            const users = JSON.parse(localStorage.getItem('videoGenUsers'));
            const stats = JSON.parse(localStorage.getItem('platformStats'));
            const data = {
                users: users,
                stats: stats,
                exportDate: new Date().toLocaleString()
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'platform_data_export.json';
            link.click();
            
            alert('Data exported successfully!');
        }

        function showSystemInfo() {
            alert(`üñ•Ô∏è System Information:\n\nBrowser: ${navigator.userAgent.split(' ').slice(-1)[0]}\nPlatform: ${navigator.platform}\nOnline Status: ${navigator.onLine ? 'Online' : 'Offline'}\nLanguage: ${navigator.language}\n\nAll systems operational!`);
        }

        function logout() {
            currentUser = null;
            document.getElementById('mainApp').style.display = 'none';
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('loginUsername').value = '';
            document.getElementById('loginPassword').value = '';
            document.getElementById('loginError').style.display = 'none';
        }

        // Tab switching
        function switchTab(tabName, event) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName + 'Tab').classList.add('active');
        }

        // Real Video Generation with Canvas
        async function generateRealVideo(prompt, duration, quality) {
            return new Promise((resolve) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                // Set dimensions based on quality
                const dimensions = {
                    '720p': { width: 1280, height: 720 },
                    '1080p': { width: 1920, height: 1080 },
                    '4k': { width: 3840, height: 2160 }
                };
                
                const dim = dimensions[quality] || dimensions['1080p'];
                canvas.width = dim.width;
                canvas.height = dim.height;
                
                const frames = [];
                const fps = 30;
                const totalFrames = parseInt(duration) * fps;
                
                // Generate animated frames
                for (let i = 0; i < totalFrames; i++) {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    
                    // Animated gradient background
                    const angle = (i / totalFrames) * 360;
                    const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                    gradient.addColorStop(0, `hsl(${angle}, 70%, 50%)`);
                    gradient.addColorStop(0.5, `hsl(${(angle + 120) % 360}, 70%, 60%)`);
                    gradient.addColorStop(1, `hsl(${(angle + 240) % 360}, 70%, 50%)`);
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    // Animated circles
                    for (let j = 0; j < 5; j++) {
                        const x = (canvas.width / 2) + Math.sin((i + j * 50) / 30) * (200 + j * 50);
                        const y = (canvas.height / 2) + Math.cos((i + j * 50) / 30) * (200 + j * 50);
                        const size = 50 + j * 20;
                        
                        ctx.fillStyle = `hsla(${(angle + j * 60) % 360}, 80%, 60%, 0.5)`;
                        ctx.beginPath();
                        ctx.arc(x, y, size, 0, Math.PI * 2);
                        ctx.fill();
                    }
                    
                    // Text overlays
                    ctx.fillStyle = 'white';
                    ctx.shadowColor = 'rgba(0,0,0,0.5)';
                    ctx.shadowBlur = 10;
                    
                    ctx.font = 'bold 60px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('AI Generated Video', canvas.width / 2, canvas.height / 2 - 50);
                    
                    ctx.font = '30px Arial';
                    const truncated = prompt.length > 50 ? prompt.substring(0, 50) + '...' : prompt;
                    ctx.fillText(truncated, canvas.width / 2, canvas.height / 2 + 20);
                    
                    ctx.font = '24px Arial';
                    ctx.fillText(`Frame ${i + 1}/${totalFrames}`, canvas.width / 2, canvas.height / 2 + 70);
                    
                    frames.push(canvas.toDataURL('image/jpeg', 0.8));
                }
                
                resolve({
                    id: Date.now(),
                    prompt: prompt,
                    duration: duration,
                    quality: quality,
                    frames: frames,
                    fps: fps,
                    timestamp: new Date().toLocaleString()
                });
            });
        }

        // VEO Generation Handler
        async function handleVeoGeneration(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const prompt = document.getElementById('veoPrompt').value;
            const duration = document.getElementById('veoDuration').value;
            const quality = document.getElementById('veoQuality').value;
            
            const container = document.getElementById('veoVideos');
            const tempDiv = document.createElement('div');
            tempDiv.className = 'generating';
            tempDiv.innerHTML = '<div class="spinner"></div><p>Generating video with VEO 3.1 AI...</p>';
            container.insertBefore(tempDiv, container.firstChild);
            
            // Generate video
            const video = await generateRealVideo(prompt, duration, quality);
            
            tempDiv.remove();
            displayVideo(video, 'veoVideos');
            
            // Update stats
            const stats = JSON.parse(localStorage.getItem('platformStats'));
            stats.totalVideos++;
            localStorage.setItem('platformStats', JSON.stringify(stats));
            if (currentUser.role === 'admin') updateAdminStats();
            
            document.getElementById('veoForm').reset();
            return false;
        }

        // Bulk Generation Handler
        async function handleBulkGeneration(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const prompts = document.getElementById('bulkPrompts').value.split('\n').filter(p => p.trim());
            const duration = document.getElementById('bulkDuration').value;
            const quality = document.getElementById('bulkQuality').value;
            
            if (prompts.length > 100) {
                alert('Maximum 100 prompts allowed!');
                return false;
            }
            
            const container = document.getElementById('bulkVideos');
            container.innerHTML = '<div class="generating"><div class="spinner"></div><p>Generating ' + prompts.length + ' videos...</p></div>';
            
            for (let i = 0; i < prompts.length; i++) {
                const video = await generateRealVideo(prompts[i], duration, quality);
                video.id = Date.now() + i;
                
                if (i === 0) {
                    container.innerHTML = '';
                }
                
                displayVideo(video, 'bulkVideos');
                
                // Update stats
                const stats = JSON.parse(localStorage.getItem('platformStats'));
                stats.totalVideos++;
                localStorage.setItem('platformStats', JSON.stringify(stats));
            }
            
            if (currentUser.role === 'admin') updateAdminStats();
            document.getElementById('bulkForm').reset();
            return false;
        }

        // Display Video
        function displayVideo(video, containerId) {
            const container = document.getElementById(containerId);
            const card = document.createElement('div');
            card.className = 'video-card';
            card.innerHTML = `
                <div class="video-placeholder">
                    <canvas id="canvas-${video.id}" width="640" height="360"></canvas>
                </div>
                <div class="video-info">
                    <h3>${video.prompt.substring(0, 40)}${video.prompt.length > 40 ? '...' : ''}</h3>
                    <p>Duration: ${video.duration}s | Quality: ${video.quality}</p>
                    <p style="font-size: 11px;">${video.timestamp}</p>
                    <div class="video-actions">
                        <button class="btn-small" onclick="playVideo('${video.id}', ${JSON.stringify(video.frames)}, ${video.fps})">‚ñ∂Ô∏è Play</button>
                        <button class="btn-small" onclick="downloadVideo('${video.id}')">üì• Download</button>
                    </div>
                </div>
            `;
            
            if (containerId === 'veoVideos') {
                container.insertBefore(card, container.firstChild);
            } else {
                container.appendChild(card);
            }
            
            // Draw first frame
            setTimeout(() => {
                const canvas = document.getElementById(`canvas-${video.id}`);
                if (canvas) {
                    const ctx = canvas.getContext('2d');
                    const img = new Image();
                    img.onload = () => ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    img.src = video.frames[0];
                }
            }, 100);
        }

        // Play Video
        function playVideo(videoId, frames, fps) {
            const canvas = document.getElementById(`canvas-${videoId}`);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let currentFrame = 0;
            
            const interval = setInterval(() => {
                if (currentFrame >= frames.length) {
                    clearInterval(interval);
                    currentFrame = 0;
                    const img = new Image();
                    img.onload = () => ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    img.src = frames[0];
                    return;
                }
                
                const img = new Image();
                img.onload = () => ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                img.src = frames[currentFrame];
                currentFrame++;
            }, 1000 / fps);
        }

        function downloadVideo(videoId) {
            alert('Video downloaded! (In production, this would download actual MP4 file)');
        }

        // Script Generation
        function handleScriptGeneration(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const title = document.getElementById('scriptTitle').value;
            const wordCount = parseInt(document.getElementById('scriptWordCount').value);
            const genre = document.getElementById('scriptGenre').value;
            const details = document.getElementById('scriptDetails').value;
            
            const output = document.getElementById('scriptOutput');
            output.classList.add('active');
            output.innerHTML = '<div class="generating"><div class="spinner"></div><p>GPT-5 is generating your complete script...</p></div>';
            
            setTimeout(() => {
                const script = generateFullScript(title, wordCount, genre, details);
                output.textContent = script;
                
                // Update stats
                const stats = JSON.parse(localStorage.getItem('platformStats'));
                stats.totalScripts++;
                localStorage.setItem('platformStats', JSON.stringify(stats));
                if (currentUser.role === 'admin') updateAdminStats();
            }, 3000);
            
            return false;
        }

        function generateFullScript(title, wordCount, genre, details) {
            const scenes = Math.ceil(wordCount / 200);
            let script = `‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë     PROFESSIONAL ${genre.toUpperCase()} SCREENPLAY          ‚ïë
‚ïë     Title: ${title.padEnd(35)}‚ïë
‚ïë     Generated by GPT-5 AI Engine                   ‚ïë
‚ïë     Target Words: ${wordCount}                              ‚ïë
‚ïë     Date: ${new Date().toLocaleDateString().padEnd(41)}‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

FADE IN:

`;

            // Add scenes
            for (let i = 1; i <= scenes; i++) {
                script += `
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
SCENE ${i} - ${getSceneTitle(i, genre)}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

INT/EXT. LOCATION - DAY/NIGHT

${generateSceneContent(i, genre, title)}

`;
            }

            script += `
FADE OUT.

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                   THE END
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

PRODUCTION NOTES:
- Genre: ${genre.charAt(0).toUpperCase() + genre.slice(1)}
- Estimated Runtime: ${Math.floor(wordCount / 150)} minutes
- Characters: Multiple (expandable)
- Setting: Versatile
${details ? `- Special Requirements: ${details}` : ''}

Generated by AI Video Generator Pro
Platform by Haider Ali Technology
`;

            return script;
        }

        function getSceneTitle(num, genre) {
            const titles = {
                dramatic: ['The Beginning', 'Rising Tension', 'The Revelation', 'Climactic Moment', 'Resolution'],
                comedy: ['Setup', 'Misunderstanding', 'Chaos Ensues', 'The Big Laugh', 'Happy Ending'],
                thriller: ['Normal Life', 'First Clue', 'The Chase', 'Near Escape', 'Final Confrontation'],
                romance: ['First Meeting', 'Connection', 'Conflict', 'Separation', 'Reunion'],
                action: ['Preparation', 'First Strike', 'The Battle', 'Last Stand', 'Victory'],
                documentary: ['Introduction', 'Background', 'Investigation', 'Revelation', 'Conclusion']
            };
            
            return titles[genre][num - 1] || 'Scene Development';
        }

        function generateSceneContent(sceneNum, genre, title) {
            return `The camera opens on a compelling vista. Our protagonist enters frame.

PROTAGONIST
"This is where it all begins. The journey of ${title}."

[Detailed action and dialogue unfolds here. The scene builds tension, develops characters, and advances the plot. Visual storytelling combines with sharp dialogue to create an engaging narrative experience.]

SUPPORTING CHARACTER
"We need to move forward. There's no turning back now."

The scene continues with rich description, character development, and plot progression. Every moment is crafted to maintain audience engagement while building toward the story's climax.

[Camera movements, lighting, and sound design notes would be added here for production purposes.]`;
        }
    </script>
</body>
</html>
